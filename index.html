<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MrWebSA | Home</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    /* Your existing CSS styles */
    html { scroll-behavior: smooth; }
    body { margin: 0; font-family: Arial, sans-serif; }
    header, nav, footer { padding: 1rem; text-align: center; background: #003366; color: white; }
    nav a { margin: 0 10px; text-decoration: none; color: #ffffff; font-weight: bold; }
    nav a:hover { text-decoration: underline; }
    section { max-width: 800px; margin: 0 auto; padding: 2rem; }
    /* ... (keep all your existing styles) ... */
  </style>
</head>
<body>

  <!-- Your existing header/nav -->
  <header>
    <h1>MrWebSA</h1>
    <p>Affordable Web Development for Everyone</p>
  </header>

  <nav>
    <a href="#home">Home</a>
    <a href="#about">About</a>
    <a href="#services">Services</a>
    <a href="#contact">Contact</a>
  </nav>

  <!-- Your existing sections -->
  <section id="home">
    <h2><i class="fas fa-house"></i> Welcome</h2>
    <p>Welcome to MrWebSA – where your ideas become stunning, responsive websites.</p>
  </section>

  <!-- Your existing content... -->

  <section id="contact" class="contact">
    <h2><i class="fas fa-envelope"></i> Contact Me</h2>

    <form id="contactForm">
      <label for="name">Name:</label><br />
      <input type="text" id="name" name="name" required /><br /><br />

      <label for="surname">Surname:</label><br />
      <input type="text" id="surname" name="surname" required /><br /><br />

      <label for="email">Your Email:</label><br />
      <input type="email" id="email" name="email" required /><br /><br />

      <label for="message">Message:</label><br />
      <textarea id="message" name="message" rows="5" required></textarea><br /><br />

      <button type="submit">Send Message</button>
    </form>

    <p>Or contact me directly: 
      <a href="mailto:MrWebSA@gmail.com">MrWebSA@gmail.com</a> | 
      <a href="tel:+27660912240">+27 660 912 240</a>
    </p>
  </section>

  <footer>
    <p>&copy; 2025 MrWebSA. All rights reserved.</p>
  </footer>

  <!-- Scroll to top button -->
  <button onclick="scrollToTop()" id="scrollTopBtn">↑</button>

  <!-- EmailJS and Form Handling -->
  <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
  <script>
    // Initialize EmailJS
    emailjs.init("30h8JuXMGgur89XEU"); // Your public key

    // Form submission handler
    document.getElementById("contactForm").addEventListener("submit", async function(e) {
      e.preventDefault();
      const form = this;
      const submitBtn = form.querySelector('button[type="submit"]');
      
      submitBtn.disabled = true;
      submitBtn.textContent = "Sending...";

      try {
        // 1. Send to YOUR business email
        await emailjs.send("service_5ff8iao", "template_928idxb", {
          name: form.name.value,
          surname: form.surname.value,
          email: form.email.value,
          message: form.message.value
        });

        // 2. Send auto-reply to CLIENT
        await emailjs.send("service_5ff8iao", "template_w9su9od", {
          name: form.name.value,
          surname: form.surname.value,
          email: form.email.value,
          message: form.message.value
        });

        alert("✅ Message sent successfully! Check your email for confirmation.");
        form.reset();
      } catch (error) {
        console.error("Email error:", error);
        alert("⚠️ Message sent, but there was an issue with notifications. We'll contact you soon!");
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = "Send Message";
      }
    });

    // Scroll to top function
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Show/hide scroll button
    window.onscroll = function() {
      const scrollBtn = document.getElementById("scrollTopBtn");
      if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
        scrollBtn.style.display = "block";
      } else {
        scrollBtn.style.display = "none";
      }
    };
  </script>
</body>
</html>
