<section id="contact" class="contact">
  <h2><i class="fas fa-envelope"></i>Contact Me</h2>

  <form id="contactForm">
    <label for="name">Name:</label><br />
    <input type="text" id="name" name="name" required /><br /><br />

    <label for="surname">Surname:</label><br />
    <input type="text" id="surname" name="surname" required /><br /><br />

    <label for="email">Your Email:</label><br />
    <input type="email" id="email" name="email" required /><br /><br />

    <label for="message">Message:</label><br />
    <textarea id="message" name="message" rows="5" required></textarea><br /><br />

    <button type="submit">Send</button>
  </form>

  <p>
    Or email me directly:
    <a href="mailto:MrWebSA@gmail.com?subject=Website%20Enquiry">MrWebSA@gmail.com</a>
  </p>
  <p>
    Phone/WhatsApp: <a href="tel:+27660912240">+27 660 912 240</a>
  </p>

  <div id="status-message" style="margin-top: 15px; font-weight: bold; text-align: center"></div>
</section>

<!-- Include EmailJS SDK once at the bottom of your page -->
<script src="https://cdn.emailjs.com/dist/email.min.js"></script>
<script>
  (function () {
    emailjs.init("30h8JuXMGgur89XEU"); // Your EmailJS public key
  })();

  const form = document.getElementById("contactForm");
  const statusMessage = document.getElementById("status-message");

  form.addEventListener("submit", function (e) {
    e.preventDefault();

    // Send email to business first
    emailjs
      .sendForm("service_5ff8iao", "template_nada38a", this)
      .then(() => {
        // Then send confirmation email to client
        emailjs
          .send("service_5ff8iao", "template_haw6y3d", {
            name: form.name.value,
            surname: form.surname.value,
            email: form.email.value,
            message: form.message.value,
          })
          .then(() => {
            statusMessage.textContent =
              "✅ Message sent! Confirmation email sent to you.";
            statusMessage.style.color = "green";
            form.reset();
          })
          .catch((error) => {
            statusMessage.textContent =
              "⚠️ Message sent, but confirmation email failed.";
            statusMessage.style.color = "orange";
            console.error("Confirmation email error:", error);
            form.reset();
          });
      })
      .catch((error) => {
        statusMessage.textContent =
          "❌ Failed to send message. Please try again.";
        statusMessage.style.color = "red";
        console.error("Business email error:", error);
      });
  });
</script>
<section id="contact" class="contact">
  <h2><i class="fas fa-envelope"></i>Contact Me</h2>

  <form id="contactForm">
    <label for="name">Name:</label><br />
    <input type="text" id="name" name="name" required /><br /><br />

    <label for="surname">Surname:</label><br />
    <input type="text" id="surname" name="surname" required /><br /><br />

    <label for="email">Your Email:</label><br />
    <input type="email" id="email" name="email" required /><br /><br />

    <label for="message">Message:</label><br />
    <textarea id="message" name="message" rows="5" required></textarea><br /><br />

    <button type="submit">Send</button>
  </form>

  <p>
    Or email me directly:
    <a href="mailto:MrWebSA@gmail.com?subject=Website%20Enquiry">MrWebSA@gmail.com</a>
  </p>
  <p>
    Phone/WhatsApp: <a href="tel:+27660912240">+27 660 912 240</a>
  </p>

  <div id="status-message" style="margin-top: 15px; font-weight: bold; text-align: center"></div>
</section>

<!-- Include EmailJS SDK once at the bottom of your page -->
<script src="https://cdn.emailjs.com/dist/email.min.js"></script>
<script>
  (function () {
    emailjs.init("30h8JuXMGgur89XEU"); // Your EmailJS public key
  })();

  const form = document.getElementById("contactForm");
  const statusMessage = document.getElementById("status-message");

  form.addEventListener("submit", function (e) {
    e.preventDefault();

    // Send email to business first
    emailjs
      .sendForm("service_5ff8iao", "template_nada38a", this)
      .then(() => {
        // Then send confirmation email to client
        emailjs
          .send("service_5ff8iao", "template_haw6y3d", {
            name: form.name.value,
            surname: form.surname.value,
            email: form.email.value,
            message: form.message.value,
          })
          .then(() => {
            statusMessage.textContent =
              "✅ Message sent! Confirmation email sent to you.";
            statusMessage.style.color = "green";
            form.reset();
          })
          .catch((error) => {
            statusMessage.textContent =
              "⚠️ Message sent, but confirmation email failed.";
            statusMessage.style.color = "orange";
            console.error("Confirmation email error:", error);
            form.reset();
          });
      })
      .catch((error) => {
        statusMessage.textContent =
          "❌ Failed to send message. Please try again.";
        statusMessage.style.color = "red";
        console.error("Business email error:", error);
      });
  });
</script>
